<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fileway - Your Name</title>
    <link rel="stylesheet" href="../styles/main.css">
</head>
<body>
    <!-- Title Bar -->
    <div class="titlebar">
        <div class="titlebar-title">
            <svg viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
            Fileway
        </div>
        <div class="titlebar-buttons">
            <button class="titlebar-btn minimize" onclick="window.fileway.minimizeWindow()">
                <svg viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>
            </button>
            <button class="titlebar-btn close" onclick="window.fileway.closeWindow()">
                <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container center">
        <div class="card auth-card fade-in">
            <!-- Icon -->
            <div style="width: 64px; height: 64px; margin: 0 auto 24px; border-radius: 50%; background: var(--accent-gradient); display: flex; align-items: center; justify-content: center;">
                <svg viewBox="0 0 24 24" width="32" height="32" fill="#000">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
            </div>

            <h2 class="text-center">What's your name?</h2>
            <p class="subtitle text-center">This helps others identify you on the network</p>

            <!-- Form -->
            <form id="nameForm">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="firstName">First Name</label>
                        <input 
                            type="text" 
                            id="firstName" 
                            class="form-input" 
                            placeholder="John"
                            autocomplete="given-name"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="lastName">Last Name</label>
                        <input 
                            type="text" 
                            id="lastName" 
                            class="form-input" 
                            placeholder="Doe"
                            autocomplete="family-name"
                            required
                        >
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" id="startBtn">
                    Get Started
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                        <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
                    </svg>
                </button>
            </form>
        </div>
    </div>

    <script>
        const form = document.getElementById('nameForm');
        const firstNameInput = document.getElementById('firstName');
        const lastNameInput = document.getElementById('lastName');
        const startBtn = document.getElementById('startBtn');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const firstName = firstNameInput.value.trim();
            const lastName = lastNameInput.value.trim();
            
            if (!firstName || !lastName) {
                return;
            }

            startBtn.disabled = true;
            startBtn.innerHTML = '<span class="loader"></span>';

            try {
                await window.fileway.saveName(firstName, lastName);
                window.fileway.navigateTo('home.html');
            } catch (err) {
                startBtn.disabled = false;
                startBtn.textContent = 'Get Started';
            }
        });
    </script>
</body>
</html>
